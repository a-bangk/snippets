{% extends 'base.html' %}

{% block content %}
    <h1>{% block title %} Tag Management {% endblock %}</h1>
    <form class="form-inline" method="post">
          <div class="form-group mx-sm-3 mb-2">
            <label for="tag" class="sr-only">Add tag</label>
            <input type="text" class="form-control" name="tag" placeholder="new tag"  value="{{ request.form['tag'] }}">
          </div>
        <div class="form-group">
        <button type="submit" class="btn btn-primary mb-2" value="Add" name="action" >Add Tag</button>
      </div>
    </form>


  <form method="post">
    <button type="submit" class="btn btn-secondary" value="Delete" name="action">Delete Marked</button>
      

    {% for item in items %}
    <div class="card">
        <div class="card-body">
            <span class="badge badge-primary">#{{ item['id'] }}</span>
            <input type="checkbox" id="{{ item['id'] }}" name="delete-checks" value="{{ item['id'] }}"   {% if item in request.form.getlist('delete-checks') %}checked{%endif -%} />
                <label for="{{ item['id'] }}">Mark for delete</label>
            <hr>
            {{ item['tag'] |safe }} 
        </div>
    </div>
    <hr>
    {% endfor %}

{% endblock %}